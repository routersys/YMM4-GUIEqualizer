<UserControl x:Class="ymm4_guiequalizer.GuiEqualizerControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             mc:Ignorable="d" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:c="clr-namespace:YukkuriMovieMaker.Controls;assembly=YukkuriMovieMaker.Controls"
             xmlns:local="clr-namespace:ymm4_guiequalizer"
             Name="this">
    <StackPanel>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="0,0,0,5">
                <TextBlock Text="縦軸ズーム" VerticalAlignment="Center" Margin="0,0,5,0"/>
                <Slider Name="ZoomSlider" Minimum="6" Maximum="48" Value="24" TickFrequency="6" IsSnapToTickEnabled="True"
                        ValueChanged="ZoomSlider_ValueChanged" Width="200"/>
            </StackPanel>
            <Button Grid.Column="1" Name="SettingsButton" Width="24" Height="24" HorizontalAlignment="Right" VerticalAlignment="Top" Click="SettingsButton_Click">
                <Path Fill="White" Data="M19.4,12c0,0.2,0,0.3,0,0.5c0,0.8-0.1,1.5-0.3,2.2l2,1.2c0.4,0.3,0.5,0.8,0.3,1.2l-2.3,4c-0.2,0.4-0.7,0.5-1.2,0.3l-2.2-1c-0.6,0.5-1.3,0.9-2.1,1.1v2.4c0,0.5-0.4,0.9-0.9,0.9h-4.6c-0.5,0-0.9-0.4-0.9-0.9v-2.4c-0.8-0.2-1.5-0.6-2.1-1.1l-2.2,1c-0.5,0.2-1-0.1-1.2-0.5l-2.3-4c-0.2-0.4-0.1-0.9,0.3-1.2l2-1.2c-0.2-0.7-0.3-1.4-0.3-2.2c0-0.2,0-0.3,0-0.5c0-0.8,0.1-1.5,0.3-2.2l-2-1.2c-0.4-0.3-0.5-0.8-0.3-1.2l2.3-4c0.2-0.4,0.7-0.5,1.2-0.3l2.2,1c0.6-0.5,1.3-0.9,2.1-1.1V2.1c0-0.5,0.4-0.9,0.9-0.9h4.6c0.5,0,0.9,0.4,0.9,0.9v2.4c0.8,0.2,1.5,0.6,2.1,1.1l2.2-1c0.5-0.2,1,0.1,1.2,0.5l2.3,4c0.2,0.4,0.1,0.9-0.3,1.2l-2,1.2C19.3,10.5,19.4,11.2,19.4,12z M12,8.4c-2,0-3.6,1.6-3.6,3.6s1.6,3.6,3.6,3.6s3.6-1.6,3.6-3.6S14,8.4,12,8.4z"/>
            </Button>
        </Grid>

        <Grid Name="EditorGrid" Height="{Binding Path=EditorHeight, Source={x:Static local:EqualizerSettings.Default}}" Margin="0,0,5,0">
            <Border BorderBrush="#555" BorderThickness="1" Background="#282828">
                <Canvas Name="MainCanvas" ClipToBounds="True" Background="Transparent"
                        ContextMenuOpening="MainCanvas_ContextMenuOpening"/>
            </Border>
            <Thumb Name="ResizeThumb" HorizontalAlignment="Right" VerticalAlignment="Bottom"
                   Width="15" Height="15" Cursor="SizeNWSE"
                   DragStarted="ResizeThumb_DragStarted" DragDelta="ResizeThumb_DragDelta" DragCompleted="ResizeThumb_DragCompleted">
                <Thumb.Template>
                    <ControlTemplate TargetType="Thumb">
                        <Border Background="#666" CornerRadius="2">
                            <Path Data="M 8,10 L 10,8 M 5,10 L 10,5 M 2,10 L 10,2" Stroke="White" StrokeThickness="1"/>
                        </Border>
                    </ControlTemplate>
                </Thumb.Template>
            </Thumb>
        </Grid>

        <StackPanel Margin="0,5,0,0">
            <TextBlock Text="時間軸" />
            <Slider Name="TimeSlider" Minimum="0" Maximum="1" Value="0" TickFrequency="0.1"
                    ValueChanged="TimeSlider_ValueChanged"/>
        </StackPanel>

        <ScrollViewer Height="120" VerticalScrollBarVisibility="Auto" Margin="0,10,0,0">
            <c:PropertiesEditor Target="{Binding ElementName=this, Path=SelectedBand}"
                                  BeginEdit="Band_BeginEdit" EndEdit="Band_EndEdit"/>
        </ScrollViewer>
    </StackPanel>
</UserControl>